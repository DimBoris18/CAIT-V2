<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Царство Игр - пародийный магазин игровых товаров: золото, аккаунты, скины и эпичные штуки!">
    <meta name="keywords" content="игровые товары, золото, аккаунты, скины, игры, пародия, FunPay">
    <meta name="author" content="Царство Игр">
    <title>Царство Игр</title>
    <link rel="icon" type="image/png" href="https://img.icons8.com/?size=100&id=2796&format=png">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: 'Roboto', Arial, sans-serif; 
            background: linear-gradient(135deg, #1a1d20, #0f1114);
            color: #fff; 
            line-height: 1.6;
            min-height: 100vh;
        }
        a { text-decoration: none; color: inherit; }
        
        /* Header */
        .header { 
            background: rgba(26, 29, 32, 0.95); 
            padding: 12px 20px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            border-bottom: 1px solid #2c3034; 
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        .header h1 { 
            font-size: 26px; 
            font-weight: 700; 
            color: #00aaff;
            text-shadow: 0 0 10px rgba(0, 170, 255, 0.5);
            background: linear-gradient(45deg, #00aaff, #00ffaa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .header .stats-panel { 
            display: flex; 
            gap: 15px; 
            background: rgba(0, 0, 0, 0.5); 
            padding: 8px 15px; 
            border-radius: 8px;
            border: 1px solid #2c3034;
        }
        .header .stats-panel .stat-item { 
            font-size: 14px; 
            color: #adb5bd; 
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .header nav ul { 
            list-style: none; 
            display: flex; 
            gap: 20px; 
        }
        .header nav a { 
            color: #adb5bd; 
            font-size: 14px; 
            transition: color 0.3s;
            padding: 5px 10px;
            border-radius: 4px;
        }
        .header nav a:hover, .header nav a.active { 
            color: #00aaff; 
            background: rgba(0, 170, 255, 0.1);
        }
        .header .search-bar { 
            display: flex; 
            gap: 8px; 
            position: relative;
        }
        .header .search-bar input { 
            padding: 8px 15px;
            border: 1px solid #2c3034; 
            border-radius: 20px; 
            background: #1a1d20; 
            color: #fff; 
            font-size: 14px;
            width: 250px;
            transition: all 0.3s;
        }
        .header .search-bar input:focus {
            border-color: #00aaff;
            box-shadow: 0 0 8px rgba(0, 170, 255, 0.5);
            outline: none;
        }
        .header .search-bar button { 
            background: linear-gradient(45deg, #00aaff, #00ffaa);
            color: #fff; 
            border: none; 
            padding: 8px 15px; 
            border-radius: 20px; 
            cursor: pointer; 
            transition: all 0.3s;
            font-weight: 500;
        }
        .header .search-bar button:hover { 
            background: linear-gradient(45deg, #0088cc, #00cc88);
            transform: translateY(-2px);
        }
        .user-panel {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #2c3034;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #00aaff;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #00aaff;
        }
        .user-avatar:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(0, 170, 255, 0.5);
        }
        .auth-btn {
            background: rgba(0, 170, 255, 0.15);
            color: #00aaff;
            border: 1px solid #00aaff;
            padding: 6px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        .auth-btn:hover {
            background: rgba(0, 170, 255, 0.3);
            transform: translateY(-2px);
        }
        
        /* Main Content */
        .main { 
            display: flex; 
            max-width: 1400px; 
            margin: 25px auto; 
            gap: 25px; 
            padding: 0 20px;
        }
        
        /* Sidebar */
        .sidebar { 
            width: 250px; 
            background: rgba(26, 29, 32, 0.8); 
            padding: 20px; 
            border-radius: 10px; 
            border: 1px solid #2c3034;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            align-self: flex-start;
            position: sticky;
            top: 90px;
        }
        .sidebar h3 { 
            font-size: 18px; 
            color: #00aaff; 
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #2c3034;
        }
        .sidebar ul { 
            list-style: none; 
        }
        .sidebar ul li { 
            margin-bottom: 10px; 
        }
        .sidebar ul a { 
            color: #adb5bd; 
            font-size: 15px; 
            transition: all 0.3s; 
            display: block; 
            padding: 8px 12px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .sidebar ul a:hover, .sidebar ul a.active { 
            color: #00aaff; 
            background: rgba(0, 170, 255, 0.1);
        }
        .sidebar ul a i {
            width: 20px;
            text-align: center;
        }
        
        /* Container */
        .container { 
            flex: 1; 
        }
        .section-title {
            font-size: 22px;
            margin-bottom: 20px;
            color: #00aaff;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Game Cards */
        .game-list { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); 
            gap: 15px;
            margin-bottom: 30px;
        }
        .game-card { 
            background: rgba(26, 29, 32, 0.8); 
            border: 1px solid #2c3034; 
            border-radius: 10px; 
            overflow: hidden; 
            transition: all 0.3s; 
            display: flex; 
            flex-direction: column;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        .game-card:hover { 
            transform: translateY(-5px);
            border-color: #00aaff;
            box-shadow: 0 6px 15px rgba(0, 170, 255, 0.3);
        }
        .game-card .game-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: linear-gradient(45deg, #ff5500, #ffaa00);
            color: white;
            font-size: 12px;
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 4px;
            z-index: 2;
        }
        .game-card img { 
            width: 100%; 
            height: 140px; 
            object-fit: cover;
            border-bottom: 1px solid #2c3034;
        }
        .game-card h3 { 
            font-size: 16px; 
            color: #fff; 
            padding: 12px 10px 8px;
            text-align: center; 
            flex-grow: 1; 
        }
        .seller-info { 
            padding: 10px; 
            background: #2c3034; 
            text-align: center;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .seller-info .seller-name { 
            color: #adb5bd; 
            font-size: 13px; 
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .seller-info .seller-rating { 
            color: #f1c40f; 
            font-size: 13px; 
            display: flex;
            align-items: center;
            gap: 3px;
        }
        
        /* Footer */
        .footer { 
            background: #1a1d20; 
            padding: 25px; 
            text-align: center; 
            border-top: 1px solid #2c3034; 
            margin-top: 40px;
        }
        .footer .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 30px;
        }
        .footer .footer-section {
            flex: 1;
            min-width: 250px;
            text-align: left;
        }
        .footer .footer-section h3 {
            color: #00aaff;
            margin-bottom: 15px;
            font-size: 18px;
        }
        .footer .footer-section ul {
            list-style: none;
        }
        .footer .footer-section ul li {
            margin-bottom: 8px;
        }
        .footer .footer-section ul a {
            color: #adb5bd;
            transition: color 0.3s;
        }
        .footer .footer-section ul a:hover {
            color: #00aaff;
        }
        .footer .copyright {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #2c3034;
            color: #adb5bd;
            font-size: 14px;
        }
        .footer p { 
            font-size: 14px; 
            color: #adb5bd; 
            margin: 5px 0;
        }
        .footer a { 
            color: #00aaff; 
        }
        .footer a:hover { 
            text-decoration: underline; 
        }
        
        /* Modals */
        .modal { 
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.9); 
            justify-content: center; 
            align-items: center; 
            z-index: 2000; 
            opacity: 0; 
            transition: opacity 0.3s ease;
            backdrop-filter: blur(5px);
        }
        .modal.show { 
            display: flex; 
            opacity: 1;
        }
        .modal-content { 
            background: #1a1d20; 
            border: 1px solid #2c3034; 
            padding: 25px; 
            border-radius: 12px; 
            max-width: 700px; 
            width: 90%; 
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            max-height: 90vh;
            overflow-y: auto;
        }
        .modal-content h2 { 
            font-size: 24px; 
            color: #fff; 
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .modal-content p { 
            font-size: 15px; 
            color: #adb5bd; 
            margin-bottom: 20px; 
        }
        .modal-content .options { 
            display: flex; 
            flex-wrap: wrap; 
            gap: 12px; 
            justify-content: center;
            margin: 20px 0;
        }
        .modal-content button, .modal-content .btn {
            background: linear-gradient(45deg, #00aaff, #00ffaa);
            color: #fff; 
            border: none; 
            padding: 12px 25px; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 15px; 
            transition: all 0.3s;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .modal-content button:hover, .modal-content .btn:hover { 
            background: linear-gradient(45deg, #0088cc, #00cc88);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 170, 255, 0.3);
        }
        .modal-content .btn-secondary {
            background: #2c3034;
        }
        .modal-content .btn-secondary:hover {
            background: #3a3e42;
        }
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: #adb5bd;
            font-size: 24px;
            cursor: pointer;
            transition: color 0.3s;
        }
        .modal-close:hover {
            color: #00aaff;
        }
        
        /* Lots List */
        .lots-list { 
            display: flex; 
            flex-direction: column; 
            gap: 12px;
            margin: 20px 0;
        }
        .lot-item { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            background: #2c3034; 
            padding: 15px; 
            border-radius: 8px;
            transition: all 0.3s;
            border: 1px solid #2c3034;
        }
        .lot-item:hover {
            border-color: #00aaff;
            transform: translateX(5px);
        }
        .lot-item .lot-info { 
            flex: 1; 
        }
        .lot-item .lot-info p { 
            margin: 5px 0; 
            font-size: 15px; 
            color: #adb5bd; 
        }
        .lot-item .lot-info .lot-title {
            font-size: 16px;
            color: #fff;
            font-weight: 500;
        }
        .lot-item .lot-price { 
            font-size: 18px; 
            color: #00aaff; 
            font-weight: bold; 
            margin-right: 15px;
            white-space: nowrap;
        }
        .lot-item button { 
            background: linear-gradient(45deg, #00aaff, #00ffaa);
            padding: 10px 20px; 
            border-radius: 8px;
            border: none;
            color: white;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }
        .lot-item button:hover { 
            background: linear-gradient(45deg, #0088cc, #00cc88);
            transform: translateY(-2px);
        }
        
        /* Order Details */
        .order-details { 
            text-align: left; 
        }
        .order-details h3 { 
            font-size: 20px; 
            color: #fff; 
            margin-bottom: 15px; 
        }
        .order-details p { 
            margin: 8px 0; 
            font-size: 15px; 
            color: #adb5bd; 
        }
        .order-details .price { 
            font-size: 22px; 
            color: #00aaff; 
            font-weight: bold; 
        }
        .order-details .rating { 
            color: #f1c40f; 
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .order-details .seller { 
            color: #adb5bd; 
        }
        .order-details .delivery { 
            color: #00ffaa; 
        }
        .order-details select, .order-details input { 
            width: 100%; 
            padding: 10px; 
            margin: 8px 0 15px; 
            border: 1px solid #2c3034; 
            border-radius: 6px; 
            background: #1a1d20; 
            color: #fff; 
            font-size: 15px;
        }
        .order-details select:focus, .order-details input:focus {
            border-color: #00aaff;
            outline: none;
        }
        .order-options-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        .order-options-row > div {
            flex: 1;
        }
        
        /* Payment Form */
        .payment-container {
            display: flex;
            gap: 25px;
        }
        .order-summary {
            flex: 1;
            background: rgba(44, 48, 52, 0.5);
            padding: 20px;
            border-radius: 8px;
        }
        .payment-form {
            flex: 1;
        }
        .payment-form h3 {
            color: #00aaff;
            margin-bottom: 15px;
            font-size: 18px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #adb5bd;
            font-size: 14px;
        }
        .form-group input {
            width: 100%;
            padding: 12px;
            background: #2c3034;
            border: 1px solid #2c3034;
            border-radius: 8px;
            color: #fff;
            font-size: 15px;
        }
        .form-group input:focus {
            border-color: #00aaff;
            outline: none;
        }
        .form-row {
            display: flex;
            gap: 15px;
        }
        .form-row .form-group {
            flex: 1;
        }
        .payment-methods {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        .payment-method {
            flex: 1;
            background: #2c3034;
            border: 1px solid #2c3034;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        .payment-method:hover, .payment-method.active {
            border-color: #00aaff;
            background: rgba(0, 170, 255, 0.1);
        }
        .payment-method img {
            height: 30px;
            margin-bottom: 10px;
        }
        .payment-method span {
            font-size: 14px;
            color: #adb5bd;
        }
        .pay-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #00aaff, #00ffaa);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
        }
        .pay-btn:hover {
            background: linear-gradient(45deg, #0088cc, #00cc88);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 170, 255, 0.3);
        }
        .security-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            color: #adb5bd;
            font-size: 14px;
        }
        .security-info img {
            width: 20px;
        }
        
        /* Auth Modals */
        .auth-form {
            max-width: 400px;
            margin: 0 auto;
        }
        .auth-form .form-group {
            margin-bottom: 20px;
        }
        .auth-switch {
            text-align: center;
            margin-top: 20px;
            color: #adb5bd;
        }
        .auth-switch a {
            color: #00aaff;
            text-decoration: underline;
        }
        .form-title {
            text-align: center;
            margin-bottom: 25px;
            color: #00aaff;
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .payment-container {
                flex-direction: column;
            }
        }
        @media (max-width: 900px) {
            .main {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                position: static;
            }
            .header {
                flex-wrap: wrap;
                gap: 15px;
            }
            .header .search-bar {
                order: 3;
                width: 100%;
            }
            .header .search-bar input {
                width: 100%;
            }
            .footer .footer-content {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            .footer .footer-section {
                text-align: center;
            }
        }
        @media (max-width: 600px) {
            .game-list {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            }
            .header nav ul {
                gap: 10px;
            }
            .modal-content {
                padding: 20px 15px;
            }
            .order-options-row {
                flex-direction: column;
                gap: 0;
            }
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <h1>ЦАРСТВО ИГР</h1>
        <div class="stats-panel">
            <div class="stat-item">Картошка: <span>999 кг</span></div>
            <div class="stat-item">Аккаунты: <span>25</span></div>
            <div class="stat-item">Эпичные штуки: <span>60</span></div>
        </div>
        <nav>
            <ul>
                <li><a href="#" class="active">Главная</a></li>
                <li><a href="#">Каталог</a></li>
                <li><a href="#">Контакты</a></li>
                <li><a href="#">FAQ (Шутки и правда)</a></li>
            </ul>
        </nav>
        <div class="search-bar">
            <input type="text" id="search-input" placeholder="Найди игру или мега-скин...">
            <button onclick="searchGames()">Поиск</button>
        </div>
        <div class="user-panel">
            <div id="auth-buttons">
                <button class="auth-btn" id="login-btn">Войти</button>
                <button class="auth-btn" id="register-btn">Регистрация</button>
            </div>
            <div id="user-info" style="display:none">
                <div class="user-avatar" id="user-avatar">U</div>
                <span class="username" id="username">User</span>
                <button class="auth-btn" id="logout-btn">Выйти</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h3>Категории</h3>
            <ul>
                <li><a href="#" onclick="filterGames('all')" class="active"><i>🎮</i> Все игры</a></li>
                <li><a href="#" onclick="filterGames('mmorpg')"><i>⚔️</i> MMORPG</a></li>
                <li><a href="#" onclick="filterGames('shooters')"><i>🔫</i> Шутеры</a></li>
                <li><a href="#" onclick="filterGames('strategy')"><i>♟️</i> Стратегии</a></li>
                <li><a href="#" onclick="filterGames('simulators')"><i>🏎️</i> Симуляторы</a></li>
                <li><a href="#" onclick="filterGames('platforms')"><i>🖥️</i> Платформы</a></li>
                <li><a href="#" onclick="filterGames('other')"><i>🤡</i> Пародийные товары</a></li>
            </ul>
            
            <h3>Популярные игры</h3>
            <ul>
                <li><a href="#"><i>⭐</i> SWTOR</a></li>
                <li><a href="#"><i>🔥</i> Genshin Impact</a></li>
                <li><a href="#"><i>💎</i> World of Warcraft</a></li>
                <li><a href="#"><i>🔫</i> Counter-Strike 2</a></li>
                <li><a href="#"><i>🏆</i> Diablo 4</a></li>
            </ul>
        </aside>

        <!-- Game Cards -->
        <div class="container">
            <h2 class="section-title">🔥 Самые популярные товары</h2>
            <div class="game-list" id="game-list">
                <!-- Star Wars: The Old Republic -->
                <div class="game-card" data-category="mmorpg" data-seller="SWTOR Shop" data-rating="4.9">
                    <div class="game-badge">HOT</div>
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1286830/header.jpg" alt="Star Wars: The Old Republic" loading="lazy">
                    <h3>Star Wars: The Old Republic</h3>
                    <div class="seller-info">
                        <span class="seller-name">SWTOR Shop</span>
                        <span class="seller-rating">★★★★★ (4.9)</span>
                    </div>
                </div>
                
                <!-- Genshin Impact -->
                <div class="game-card" data-category="mmorpg" data-seller="GachaKing" data-rating="4.8">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/2358720/header.jpg" alt="Genshin Impact" loading="lazy">
                    <h3>Genshin Impact</h3>
                    <div class="seller-info">
                        <span class="seller-name">GachaKing</span>
                        <span class="seller-rating">★★★★★ (4.8)</span>
                    </div>
                </div>
                
                <!-- World of Warcraft -->
                <div class="game-card" data-category="mmorpg" data-seller="WoW Experts" data-rating="4.8">
                    <div class="game-badge">TOP</div>
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1999460/header.jpg" alt="World of Warcraft" loading="lazy">
                    <h3>World of Warcraft</h3>
                    <div class="seller-info">
                        <span class="seller-name">WoW Experts</span>
                        <span class="seller-rating">★★★★★ (4.8)</span>
                    </div>
                </div>
                
                <!-- Counter-Strike 2 -->
                <div class="game-card" data-category="shooters" data-seller="CSPro" data-rating="4.6">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/730/capsule_616x353.jpg" alt="Counter-Strike 2" loading="lazy">
                    <h3>Counter-Strike 2</h3>
                    <div class="seller-info">
                        <span class="seller-name">CSPro</span>
                        <span class="seller-rating">★★★★☆ (4.6)</span>
                    </div>
                </div>
                
                <!-- Diablo 4 -->
                <div class="game-card" data-category="mmorpg" data-seller="DiabloMaster" data-rating="4.7">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/2344520/header.jpg" alt="Diablo 4" loading="lazy">
                    <h3>Diablo 4</h3>
                    <div class="seller-info">
                        <span class="seller-name">DiabloMaster</span>
                        <span class="seller-rating">★★★★☆ (4.7)</span>
                    </div>
                </div>
                
                <!-- Valorant -->
                <div class="game-card" data-category="shooters" data-seller="ValoKing" data-rating="4.5">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1273970/header.jpg" alt="Valorant" loading="lazy">
                    <h3>Valorant</h3>
                    <div class="seller-info">
                        <span class="seller-name">ValoKing</span>
                        <span class="seller-rating">★★★★☆ (4.5)</span>
                    </div>
                </div>
                
                <!-- Lost Ark -->
                <div class="game-card" data-category="mmorpg" data-seller="ArkTrader" data-rating="4.6">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1599340/header.jpg" alt="Lost Ark" loading="lazy">
                    <h3>Lost Ark</h3>
                    <div class="seller-info">
                        <span class="seller-name">ArkTrader</span>
                        <span class="seller-rating">★★★★☆ (4.6)</span>
                    </div>
                </div>
                
                <!-- Apex Legends -->
                <div class="game-card" data-category="shooters" data-seller="ApexPro" data-rating="4.4">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1172470/capsule_616x353.jpg" alt="Apex Legends" loading="lazy">
                    <h3>Apex Legends</h3>
                    <div class="seller-info">
                        <span class="seller-name">ApexPro</span>
                        <span class="seller-rating">★★★★☆ (4.4)</span>
                    </div>
                </div>
                
                <!-- League of Legends -->
                <div class="game-card" data-category="platforms" data-seller="LoLShop" data-rating="4.7">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1237970/header.jpg" alt="League of Legends" loading="lazy">
                    <h3>League of Legends</h3>
                    <div class="seller-info">
                        <span class="seller-name">LoLShop</span>
                        <span class="seller-rating">★★★★☆ (4.7)</span>
                    </div>
                </div>
                
                <!-- Fortnite -->
                <div class="game-card" data-category="shooters" data-seller="FortnitePro" data-rating="4.6">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/2054960/header.jpg" alt="Fortnite" loading="lazy">
                    <h3>Fortnite</h3>
                    <div class="seller-info">
                        <span class="seller-name">FortnitePro</span>
                        <span class="seller-rating">★★★★☆ (4.6)</span>
                    </div>
                </div>
                
                <!-- PUBG Mobile -->
                <div class="game-card" data-category="shooters" data-seller="PUBGPro" data-rating="4.3">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/578080/capsule_616x353.jpg" alt="PUBG Mobile" loading="lazy">
                    <h3>PUBG Mobile</h3>
                    <div class="seller-info">
                        <span class="seller-name">PUBGPro</span>
                        <span class="seller-rating">★★★★☆ (4.3)</span>
                    </div>
                </div>
                
                <!-- Mobile Legends -->
                <div class="game-card" data-category="platforms" data-seller="MLShop" data-rating="4.5">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1362190/header.jpg" alt="Mobile Legends" loading="lazy">
                    <h3>Mobile Legends</h3>
                    <div class="seller-info">
                        <span class="seller-name">MLShop</span>
                        <span class="seller-rating">★★★★☆ (4.5)</span>
                    </div>
                </div>
                
                <!-- Brawl Stars -->
                <div class="game-card" data-category="platforms" data-seller="BrawlMaster" data-rating="4.8">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1470300/header.jpg" alt="Brawl Stars" loading="lazy">
                    <h3>Brawl Stars</h3>
                    <div class="seller-info">
                        <span class="seller-name">BrawlMaster</span>
                        <span class="seller-rating">★★★★★ (4.8)</span>
                    </div>
                </div>
                
                <!-- Clash of Clans -->
                <div class="game-card" data-category="strategy" data-seller="CoCKing" data-rating="4.9">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1938090/header.jpg" alt="Clash of Clans" loading="lazy">
                    <h3>Clash of Clans</h3>
                    <div class="seller-info">
                        <span class="seller-name">CoCKing</span>
                        <span class="seller-rating">★★★★★ (4.9)</span>
                    </div>
                </div>
                
                <!-- Roblox -->
                <div class="game-card" data-category="platforms" data-seller="RobloxShop" data-rating="4.4">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1110690/header.jpg" alt="Roblox" loading="lazy">
                    <h3>Roblox</h3>
                    <div class="seller-info">
                        <span class="seller-name">RobloxShop</span>
                        <span class="seller-rating">★★★★☆ (4.4)</span>
                    </div>
                </div>
                
                <!-- Minecraft -->
                <div class="game-card" data-category="platforms" data-seller="MinecraftPro" data-rating="4.9">
                    <div class="game-badge">BEST</div>
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1672970/header.jpg" alt="Minecraft" loading="lazy">
                    <h3>Minecraft</h3>
                    <div class="seller-info">
                        <span class="seller-name">MinecraftPro</span>
                        <span class="seller-rating">★★★★★ (4.9)</span>
                    </div>
                </div>
                
                <!-- Пародийные товары -->
                <div class="game-card" data-category="other" data-seller="ParodyPal" data-rating="5.0">
                    <img src="https://i.pinimg.com/736x/75/15/3b/75153b928dfd6599a64e91bd482494fb.jpg" alt="Пародийные товары" loading="lazy">
                    <h3>Пародийные товары</h3>
                    <div class="seller-info">
                        <span class="seller-name">ParodyPal</span>
                        <span class="seller-rating">★★★★★ (5.0)</span>
                    </div>
                </div>
            </div>
            
            <h2 class="section-title">🎮 Новые поступления</h2>
            <div class="game-list">
                <!-- Dota 2 -->
                <div class="game-card" data-category="shooters" data-seller="DotaPro" data-rating="4.5">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/570/capsule_616x353.jpg" alt="Dota 2" loading="lazy">
                    <h3>Dota 2</h3>
                    <div class="seller-info">
                        <span class="seller-name">DotaPro</span>
                        <span class="seller-rating">★★★★☆ (4.5)</span>
                    </div>
                </div>
                
                <!-- World of Tanks -->
                <div class="game-card" data-category="simulators" data-seller="TankMaster" data-rating="4.9">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1407200/header.jpg" alt="World of Tanks" loading="lazy">
                    <h3>World of Tanks</h3>
                    <div class="seller-info">
                        <span class="seller-name">TankMaster</span>
                        <span class="seller-rating">★★★★★ (4.9)</span>
                    </div>
                </div>
                
                <!-- War Thunder -->
                <div class="game-card" data-category="simulators" data-seller="TankMaster" data-rating="4.4">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/236390/header.jpg" alt="War Thunder" loading="lazy">
                    <h3>War Thunder</h3>
                    <div class="seller-info">
                        <span class="seller-name">TankMaster</span>
                        <span class="seller-rating">★★★★☆ (4.4)</span>
                    </div>
                </div>
                
                <!-- Civilization VI -->
                <div class="game-card" data-category="strategy" data-seller="StrategyPro" data-rating="4.7">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/1158310/header.jpg" alt="Civilization VI" loading="lazy">
                    <h3>Civilization VI</h3>
                    <div class="seller-info">
                        <span class="seller-name">StrategyPro</span>
                        <span class="seller-rating">★★★★★ (4.7)</span>
                    </div>
                </div>
                
                <!-- Zenless Zone Zero -->
                <div class="game-card" data-category="mmorpg" data-seller="GachaPro" data-rating="4.3">
                    <img src="https://cdn.cloudflare.steamstatic.com/steam/apps/2358720/header.jpg" alt="Zenless Zone Zero" loading="lazy">
                    <h3>Zenless Zone Zero</h3>
                    <div class="seller-info">
                        <span class="seller-name">GachaPro</span>
                        <span class="seller-rating">★★★★☆ (4.3)</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>О Царстве Игр</h3>
                <p>Пародийный маркетплейс, вдохновленный FunPay! Мы предлагаем лучшие игровые товары с юмором и картошкой.</p>
                <p>Часы работы: Круглосуточно</p>
            </div>
            <div class="footer-section">
                <h3>Поддержка</h3>
                <ul>
                    <li><a href="#">Telegram</a></li>
                    <li><a href="#">Discord</a></li>
                    <li><a href="#">support@tsarstvoigr.by</a></li>
                    <li><a href="#">FAQ (Шутки и правда)</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Популярные категории</h3>
                <ul>
                    <li><a href="#">Аккаунты</a></li>
                    <li><a href="#">Игровая валюта</a></li>
                    <li><a href="#">Скины и предметы</a></li>
                    <li><a href="#">Эпичные штуки</a></li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 Царство Игр. Все права защищены. Картошка не продается.</p>
        </div>
    </footer>

    <!-- Modals -->
    <!-- Select Type Modal -->
    <div id="select-type-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <h2 id="select-type-title"></h2>
            <p>Выберите категорию товара:</p>
            <div class="options">
                <button onclick="showLotsModal('accounts')">Аккаунты</button>
                <button onclick="showLotsModal('keys')">Ключи</button>
                <button onclick="showLotsModal('items')">Предметы</button>
                <button onclick="showLotsModal('parody')">Эпичные штуки</button>
            </div>
        </div>
    </div>

    <!-- Lots Modal -->
    <div id="lots-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <h2 id="lots-title"></h2>
            <div class="lots-list" id="lots-list">
                <!-- Лоты будут добавлены динамически -->
            </div>
        </div>
    </div>

    <!-- Order Modal -->
    <div id="order-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <h2 id="order-title"></h2>
            <div class="order-details">
                <h3 id="order-description"></h3>
                <p class="price" id="order-price"></p>
                <p class="seller">Продавец: <span id="order-seller"></span></p>
                <p class="rating">Рейтинг: <span id="order-rating"></span></p>
                <p class="delivery">Доставка: Моментально (или в следующей жизни)</p>
                <div id="order-options"></div>
                <button id="confirm-order" class="btn">Оплатить</button>
            </div>
        </div>
    </div>
    
    <!-- Payment Modal -->
    <div id="payment-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <h2>Оплата заказа</h2>
            <div class="payment-container">
                <div class="order-summary">
                    <h3>Ваш заказ:</h3>
                    <p id="payment-description"></p>
                    <p class="price" id="payment-price"></p>
                    <div class="seller-info">
                        <span class="seller-name">Продавец: <span id="payment-seller"></span></span>
                        <span class="seller-rating">Рейтинг: <span id="payment-rating"></span></span>
                    </div>
                    <p class="delivery">Доставка: Моментально</p>
                </div>
                
                <div class="payment-form">
                    <h3>Данные оплаты</h3>
                    <div class="payment-methods">
                        <div class="payment-method active" data-method="card">
                            <img src="https://cdn-icons-png.flaticon.com/512/179/179457.png" alt="Карта">
                            <span>Банковская карта</span>
                        </div>
                        <div class="payment-method" data-method="qiwi">
                            <img src="https://cdn-icons-png.flaticon.com/512/1969/1969557.png" alt="QIWI">
                            <span>QIWI</span>
                        </div>
                        <div class="payment-method" data-method="crypto">
                            <img src="https://cdn-icons-png.flaticon.com/512/825/825472.png" alt="Криптовалюта">
                            <span>Crypto</span>
                        </div>
                    </div>

                    <div class="card-form">
                        <div class="form-group">
                            <label>Номер карты</label>
                            <input type="text" placeholder="0000 0000 0000 0000" class="card-input" maxlength="19">
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>Срок действия</label>
                                <input type="text" placeholder="ММ/ГГ" maxlength="5">
                            </div>
                            <div class="form-group">
                                <label>CVV/CVC</label>
                                <input type="password" placeholder="123" maxlength="3">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Имя владельца</label>
                            <input type="text" placeholder="IVAN IVANOV">
                        </div>
                    </div>
                    
                    <button class="pay-btn">
                        <img src="https://cdn-icons-png.flaticon.com/512/545/545680.png" alt="Оплатить">
                        Подтвердить оплату
                    </button>
                    
                    <div class="security-info">
                        <img src="https://cdn-icons-png.flaticon.com/512/1672/1672259.png" alt="Защита">
                        <span>Ваши данные защищены SSL-шифрованием</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Login Modal -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <h2 class="form-title">Вход в аккаунт</h2>
            <div class="auth-form">
                <div class="form-group">
                    <label>Имя пользователя или Email</label>
                    <input type="text" id="login-username" placeholder="Введите ваш логин">
                </div>
                <div class="form-group">
                    <label>Пароль</label>
                    <input type="password" id="login-password" placeholder="Введите ваш пароль">
                </div>
                <button id="login-submit" class="btn">Войти</button>
                <div class="auth-switch">
                    Нет аккаунта? <a href="#" id="switch-to-register">Зарегистрируйтесь</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Register Modal -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <h2 class="form-title">Регистрация аккаунта</h2>
            <div class="auth-form">
                <div class="form-group">
                    <label>Имя пользователя</label>
                    <input type="text" id="register-username" placeholder="Придумайте логин">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="register-email" placeholder="Введите ваш email">
                </div>
                <div class="form-group">
                    <label>Пароль</label>
                    <input type="password" id="register-password" placeholder="Придумайте пароль">
                </div>
                <div class="form-group">
                    <label>Подтвердите пароль</label>
                    <input type="password" id="register-confirm" placeholder="Повторите пароль">
                </div>
                <button id="register-submit" class="btn">Зарегистрироваться</button>
                <div class="auth-switch">
                    Уже есть аккаунт? <a href="#" id="switch-to-login">Войти</a>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Фильтрация игр
        function filterGames(category) {
            const cards = document.querySelectorAll('.game-card');
            cards.forEach(card => {
                if (category === 'all' || card.getAttribute('data-category') === category) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Обновляем активную ссылку в сайдбаре
            document.querySelectorAll('.sidebar ul a').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Поиск игр
        function searchGames() {
            const input = document.getElementById('search-input').value.toLowerCase();
            const cards = document.querySelectorAll('.game-card');
            cards.forEach(card => {
                const title = card.querySelector('h3').textContent.toLowerCase();
                if (title.includes(input) || input === '') {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Модальные окна
        const cards = document.querySelectorAll('.game-card');
        const selectTypeModal = document.getElementById('select-type-modal');
        const lotsModal = document.getElementById('lots-modal');
        const orderModal = document.getElementById('order-modal');
        const paymentModal = document.getElementById('payment-modal');
        const loginModal = document.getElementById('login-modal');
        const registerModal = document.getElementById('register-modal');
        
        const selectTypeTitle = document.getElementById('select-type-title');
        const lotsTitle = document.getElementById('lots-title');
        const lotsList = document.getElementById('lots-list');
        const orderTitle = document.getElementById('order-title');
        const orderDescription = document.getElementById('order-description');
        const orderPrice = document.getElementById('order-price');
        const orderSeller = document.getElementById('order-seller');
        const orderRating = document.getElementById('order-rating');
        const orderOptions = document.getElementById('order-options');
        
        const paymentDescription = document.getElementById('payment-description');
        const paymentPrice = document.getElementById('payment-price');
        const paymentSeller = document.getElementById('payment-seller');
        const paymentRating = document.getElementById('payment-rating');
        
        // Закрытие модальных окон
        document.querySelectorAll('.modal-close').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.classList.remove('show');
                });
            });
        });
        
        window.addEventListener('click', (e) => {
            document.querySelectorAll('.modal').forEach(modal => {
                if (e.target === modal) {
                    modal.classList.remove('show');
                }
            });
        });

        cards.forEach(card => {
            card.addEventListener('click', () => {
                const game = card.querySelector('h3').textContent;
                const seller = card.getAttribute('data-seller');
                const rating = card.getAttribute('data-rating');
                selectTypeTitle.textContent = `${game} (Продавец: ${seller}, Рейтинг: ${'★'.repeat(Math.floor(rating))}${'☆'.repeat(5 - Math.floor(rating))})`;
                selectTypeModal.classList.add('show');
            });
        });

        function showLotsModal(type) {
            const game = selectTypeTitle.textContent.split(' (')[0];
            selectTypeModal.classList.remove('show');
            lotsTitle.textContent = `${game} - ${type}`;
            lotsList.innerHTML = '';

            const lotsData = {
                'Star Wars: The Old Republic': {
                    'accounts': [
                        { description: 'Аккаунт с 60 уровнем', price: '45 BYN', seller: 'SWTOR Shop', rating: '4.9' },
                        { description: 'Аккаунт с легендарными предметами', price: '75 BYN', seller: 'Galaxy Deals', rating: '4.7' }
                    ],
                    'keys': [
                        { description: 'Ключ для подписки на 30 дней', basePrice: '25 BYN', seller: 'KeyMaster', rating: '4.6' },
                        { description: 'Ключ для коллекционного издания', basePrice: '60 BYN', seller: 'GameKing', rating: '4.8' }
                    ],
                    'items': [
                        { description: '1,000,000 кредитов', price: '18 BYN', seller: 'ItemShop', rating: '4.7' },
                        { description: 'Редкий световой меч', price: '35 BYN', seller: 'ForceTrader', rating: '4.9' }
                    ],
                    'parody': [
                        { description: 'Картофельный световой меч', price: '150 BYN', seller: 'ParodyPal', rating: '5.0' }
                    ]
                },
                'Genshin Impact': {
                    'accounts': [
                        { description: 'Аккаунт с 5★ персонажем', price: '25 BYN', seller: 'GachaPro', rating: '4.4' },
                        { description: 'Аккаунт с 2× 5★ персонажами', price: '50 BYN', seller: 'GachaKing', rating: '4.8' }
                    ],
                    'keys': [
                        { description: 'Ключ активации', basePrice: '10 BYN', seller: 'KeyMaster', rating: '4.6' }
                    ],
                    'items': [
                        { description: '1000 примогемов', basePrice: '12 BYN', seller: 'ItemShop', rating: '4.7', currency: 'примогемы' }
                    ],
                    'parody': [
                        { description: 'Магический тостер удачи', price: '500 BYN', seller: 'ParodyPal', rating: '5.0' }
                    ]
                },
                'World of Warcraft': {
                    'accounts': [
                        { description: 'Аккаунт с 70 уровнем', price: '55 BYN', seller: 'WoW Experts', rating: '4.8' },
                        { description: 'Аккаунт с элитным снаряжением', price: '90 BYN', seller: 'Azeroth Trader', rating: '4.7' }
                    ],
                    'keys': [
                        { description: 'Ключ для Dragonflight', basePrice: '40 BYN', seller: 'KeyMaster', rating: '4.6' }
                    ],
                    'items': [
                        { description: '100,000 золота', basePrice: '15 BYN', seller: 'ItemShop', rating: '4.8', currency: 'золото' }
                    ],
                    'parody': [
                        { description: 'Картофельный дракон', price: '250 BYN', seller: 'ParodyPal', rating: '5.0' }
                    ]
                },
                // Данные для других игр...
            };

            const lots = lotsData[game]?.[type] || [];
            if (lots.length === 0) {
                lotsList.innerHTML = '<p style="color: #adb5bd; text-align: center; padding: 20px;">Лоты отсутствуют. Попробуйте другой раздел!</p>';
            } else {
                lots.forEach(lot => {
                    const lotItem = document.createElement('div');
                    lotItem.className = 'lot-item';
                    lotItem.innerHTML = `
                        <div class="lot-info">
                            <p class="lot-title">${lot.description}</p>
                            <p class="seller">Продавец: ${lot.seller}</p>
                            <p class="rating">${'★'.repeat(Math.floor(lot.rating))}${'☆'.repeat(5 - Math.floor(lot.rating))}</p>
                        </div>
                        <div class="lot-price">${lot.price || lot.basePrice}</div>
                        <button onclick='showOrderModal("${game}", "${type}", "${lot.description}", "${lot.price || lot.basePrice}", "${lot.seller}", "${lot.rating}", "${lot.currency || ''}")'>Купить</button>
                    `;
                    lotsList.appendChild(lotItem);
                });
            }

            lotsModal.classList.add('show');
        }

        function showOrderModal(game, type, description, price, seller, rating, currency) {
            lotsModal.classList.remove('show');
            orderTitle.textContent = `${game} - ${type}`;
            orderDescription.textContent = description;
            orderPrice.textContent = price;
            orderSeller.textContent = seller;
            orderRating.textContent = `${'★'.repeat(Math.floor(rating))}${'☆'.repeat(5 - Math.floor(rating))}`;
            orderOptions.innerHTML = '';

            if (type === 'keys') {
                orderOptions.innerHTML = `
                    <div class="order-options-row">
                        <div>
                            <label>Платформа</label>
                            <select id="platform-select">
                                <option value="PS5">PS5</option>
                                <option value="Xbox">Xbox</option>
                                <option value="PC">PC</option>
                            </select>
                        </div>
                        <div>
                            <label>Количество</label>
                            <input type="number" id="quantity-input" min="1" value="1">
                        </div>
                    </div>
                `;
            } else if (type === 'items' && currency) {
                orderOptions.innerHTML = `
                    <div>
                        <label>Количество ${currency}</label>
                        <input type="number" id="quantity-input" min="1" value="1">
                    </div>
                `;
            }

            orderModal.classList.add('show');

            document.getElementById('confirm-order').onclick = () => {
                let finalPrice = parseFloat(price.replace(' BYN', ''));
                let finalDescription = description;
                
                if (type === 'keys') {
                    const platform = document.getElementById('platform-select').value;
                    const quantity = parseInt(document.getElementById('quantity-input').value) || 1;
                    finalPrice *= quantity;
                    finalDescription = `${quantity}x ${description} (${platform})`;
                } else if (type === 'items' && currency) {
                    const quantity = parseInt(document.getElementById('quantity-input').value) || 1;
                    finalPrice *= quantity;
                    finalDescription = `${quantity} ${currency} ${description}`;
                }
                
                paymentDescription.textContent = finalDescription;
                paymentPrice.textContent = `${finalPrice} BYN`;
                paymentSeller.textContent = seller;
                paymentRating.textContent = `${'★'.repeat(Math.floor(rating))}${'☆'.repeat(5 - Math.floor(rating))}`;
                
                orderModal.classList.remove('show');
                paymentModal.classList.add('show');
            };
        }

        // Система аутентификации
        const loginBtn = document.getElementById('login-btn');
        const registerBtn = document.getElementById('register-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const loginSubmit = document.getElementById('login-submit');
        const registerSubmit = document.getElementById('register-submit');
        const switchToRegister = document.getElementById('switch-to-register');
        const switchToLogin = document.getElementById('switch-to-login');
        const authButtons = document.getElementById('auth-buttons');
        const userInfo = document.getElementById('user-info');
        const username = document.getElementById('username');
        const userAvatar = document.getElementById('user-avatar');
        
        // Проверяем, авторизован ли пользователь
        function checkAuth() {
            const currentUser = localStorage.getItem('currentUser');
            if (currentUser) {
                const user = JSON.parse(currentUser);
                authButtons.style.display = 'none';
                userInfo.style.display = 'flex';
                username.textContent = user.username;
                userAvatar.textContent = user.username.charAt(0).toUpperCase();
            }
        }
        
        // Регистрация
        registerSubmit.addEventListener('click', () => {
            const username = document.getElementById('register-username').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirm = document.getElementById('register-confirm').value;
            
            if (!username || !email || !password) {
                alert('Заполните все поля!');
                return;
            }
            
            if (password !== confirm) {
                alert('Пароли не совпадают!');
                return;
            }
            
            // Простое "хэширование" для демо
            const hashedPassword = btoa(password);
            
            const user = {
                username,
                email,
                password: hashedPassword
            };
            
            // Сохраняем пользователя
            localStorage.setItem('currentUser', JSON.stringify(user));
            
            // Обновляем интерфейс
            checkAuth();
            registerModal.classList.remove('show');
            alert('Регистрация прошла успешно!');
        });
        
        // Вход
        loginSubmit.addEventListener('click', () => {
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            const hashedPassword = btoa(password);
            
            // В реальном приложении здесь была бы проверка с сервером
            if (username && password) {
                const user = {
                    username,
                    password: hashedPassword
                };
                
                localStorage.setItem('currentUser', JSON.stringify(user));
                checkAuth();
                loginModal.classList.remove('show');
                alert('Вы успешно вошли!');
            } else {
                alert('Заполните все поля!');
            }
        });
        
        // Выход
        logoutBtn.addEventListener('click', () => {
            localStorage.removeItem('currentUser');
            authButtons.style.display = 'flex';
            userInfo.style.display = 'none';
        });
        
        // Переключение между модалками
        switchToRegister.addEventListener('click', (e) => {
            e.preventDefault();
            loginModal.classList.remove('show');
            registerModal.classList.add('show');
        });
        
        switchToLogin.addEventListener('click', (e) => {
            e.preventDefault();
            registerModal.classList.remove('show');
            loginModal.classList.add('show');
        });
        
        // Обработчики кнопок
        loginBtn.addEventListener('click', () => {
            loginModal.classList.add('show');
        });
        
        registerBtn.addEventListener('click', () => {
            registerModal.classList.add('show');
        });
        
        // Обработчик для клавиши Enter в поиске
        document.getElementById('search-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                searchGames();
            }
        });
        
        // Выбор метода оплаты
        document.querySelectorAll('.payment-method').forEach(method => {
            method.addEventListener('click', () => {
                document.querySelectorAll('.payment-method').forEach(m => {
                    m.classList.remove('active');
                });
                method.classList.add('active');
            });
        });
        
        // Инициализация
        checkAuth();
        
        // Форматирование номера карты
        document.querySelector('.card-input')?.addEventListener('input', function(e) {
            const value = e.target.value.replace(/\D/g, '').substring(0, 16);
            let formattedValue = '';
            
            for (let i = 0; i < value.length; i++) {
                if (i > 0 && i % 4 === 0) formattedValue += ' ';
                formattedValue += value[i];
            }
            
            e.target.value = formattedValue;
        });
        
        // Обработка оплаты
        document.querySelector('.pay-btn')?.addEventListener('click', () => {
            alert('Покупка подтверждена! Спасибо за заказ!');
            paymentModal.classList.remove('show');
        });
    </script>
</body>
</html>